import{j as c,r as l,R as p,a as d}from"./vendor.416ef318.js";const f=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}};f();const r=c.exports.jsx,u=c.exports.jsxs;function m(){const[o,s]=l.exports.useState([]);l.exports.useEffect(()=>n(),[o]);function i(e){e.preventDefault();const t=e.target.message.value;t&&fetch("/api/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})})}async function n(){let e=await fetch("/api/subscribe");if(e.status==502)s([...o,"Error happened \u2013 Timeout"]);else if(e.status==503)s([...o,"Error 503"]);else if(e.status!=200)s([...o,"Error happened"]),await new Promise(t=>setTimeout(t,1e3));else{let t=await e.text();s([...o,t])}}return u("div",{className:"App",children:[r("h1",{children:"Animal Olympics"}),u("form",{onSubmit:i,children:[r("input",{type:"text",name:"message",placeholder:"Type message in here"}),r("br",{}),r("input",{type:"submit",value:"Send"})]}),r("section",{children:o.map((e,t)=>r("p",{children:e},t))})]})}p.render(r(d.StrictMode,{children:r(m,{})}),document.getElementById("root"));
